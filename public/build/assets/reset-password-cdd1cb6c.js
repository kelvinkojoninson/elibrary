var f=function(){const a=async()=>{const e=document.querySelector("#change-password-modal");if(!e)return;const i=new bootstrap.Modal(e),n=e.querySelector("form");if(!n)return;const t=e.querySelector('[data-action="submit"]');t&&t.addEventListener("click",async s=>{s.preventDefault(),t.setAttribute("data-kt-indicator","on"),t.disabled=!0;let c=new FormData(n);try{const o=await fetch(`${APP_URL}/api/users/reset-password`,{method:"POST",headers:{Authorization:`Bearer ${apiToken}`,"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:c}),{ok:u,msg:r}=await o.json();if(!u){Swal.fire({text:r,icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}});return}Swal.fire({text:r,icon:"success",allowOutsideClick:!1,buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}}).then(l=>{l.isConfirmed&&(n.reset(),i.hide())})}catch(o){Swal.fire({text:o.message,icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}finally{t.removeAttribute("data-kt-indicator"),t.disabled=!1}})};return{init:function(){a()}}}();KTUtil.onDOMContentLoaded(function(){f.init()});
